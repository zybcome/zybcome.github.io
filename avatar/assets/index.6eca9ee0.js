var ze=Object.defineProperty,Ne=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var we=(e,t,o)=>t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,N=(e,t)=>{for(var o in t||(t={}))Me.call(t,o)&&we(e,o,t[o]);if(ye)for(var o of ye(t))Ue.call(t,o)&&we(e,o,t[o]);return e},W=(e,t)=>Ne(e,qe(t));import{c as He,u as Ge,d as O,a as K,b as X,o as E,e as b,F as oe,r as se,f as u,n as q,g as l,h as T,i as ne,P as We,j as _e,k as ie,w as Ae,C as Ze,l as pe,m as M,t as U,p as I,q as De,s as Ie,T as Je,v as Ye,x as re,y as Ke,z as ve,A as fe,B as Xe,D as Qe}from"./vendor.6aeb0a36.js";const et=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};et();var F;(function(e){e.ZH="zh",e.EN="en"})(F||(F={}));var $;(function(e){e.Undo="undo",e.Redo="redo",e.Flip="flip",e.Code="code"})($||($={}));var ae;(function(e){e.Male="male",e.Female="female",e.NotSet="notSet"})(ae||(ae={}));var n;(function(e){e.Face="face",e.Tops="tops",e.Ear="ear",e.Earrings="earrings",e.Eyebrows="eyebrows",e.Eyes="eyes",e.Nose="nose",e.Glasses="glasses",e.Mouth="mouth",e.Beard="beard",e.Clothes="clothes"})(n||(n={}));var j;(function(e){e.Circle="circle",e.Square="square",e.Squircle="squircle"})(j||(j={}));var Z;(function(e){e.Base="base"})(Z||(Z={}));var m;(function(e){e.Fonze="fonze",e.Funny="funny",e.Clean="clean",e.Punk="punk",e.Danny="danny",e.Wave="wave",e.Turban="turban",e.Pixie="pixie",e.Beanie="beanie"})(m||(m={}));var x;(function(e){e.Attached="attached",e.Detached="detached"})(x||(x={}));var H;(function(e){e.Hoop="hoop",e.Stud="stud",e.None="none"})(H||(H={}));var S;(function(e){e.Up="up",e.Down="down",e.Eyelashesup="eyelashesup",e.Eyelashesdown="eyelashesdown"})(S||(S={}));var C;(function(e){e.Ellipse="ellipse",e.Smiling="smiling",e.Eyeshadow="eyeshadow",e.Round="round"})(C||(C={}));var k;(function(e){e.Curve="curve",e.Round="round",e.Pointed="pointed"})(k||(k={}));var A;(function(e){e.Frown="frown",e.Laughing="laughing",e.Nervous="nervous",e.Pucker="pucker",e.Sad="sad",e.Smile="smile",e.Smirk="smirk",e.Surprised="surprised"})(A||(A={}));var Q;(function(e){e.Scruff="scruff",e.None="none"})(Q||(Q={}));var J;(function(e){e.Round="round",e.Square="square",e.None="none"})(J||(J={}));var V;(function(e){e.Crew="crew",e.Collared="collared",e.Open="open"})(V||(V={}));const tt="modulepreload",Oe={},ot="./",s=function(t,o){return!o||o.length===0?t():Promise.all(o.map(a=>{if(a=`${ot}${a}`,a in Oe)return;Oe[a]=!0;const r=a.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${i}`))return;const d=document.createElement("link");if(d.rel=r?"stylesheet":tt,r||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),r)return new Promise((g,f)=>{d.addEventListener("load",g),d.addEventListener("error",f)})})).then(()=>t())},Re={[n.Face]:{zIndex:10},[n.Ear]:{zIndex:102},[n.Earrings]:{zIndex:103},[n.Eyebrows]:{zIndex:70},[n.Eyes]:{zIndex:50},[n.Nose]:{zIndex:60},[n.Glasses]:{zIndex:90},[n.Mouth]:{zIndex:100},[n.Beard]:{zIndex:105},[n.Tops]:{zIndex:80},[n.Clothes]:{zIndex:110}},D={gender:[ae.Male,ae.Female],wrapperShape:Object.values(j),faceShape:Object.values(Z),topsShape:Object.values(m),earShape:Object.values(x),earringsShape:Object.values(H),eyebrowsShape:Object.values(S),eyesShape:Object.values(C),noseShape:Object.values(k),glassesShape:Object.values(J),mouthShape:Object.values(A),beardShape:Object.values(Q),clothesShape:Object.values(V),backgroundColor:["#6BD9E9","#FC909F","#F4D150","#E0DDFF","#D2EFF3","#FFEDEF","#FFEBA4","#506AF4","#F48150","#48A99A","#C09FFF","#FD6F5D","linear-gradient(45deg, #E3648C, #D97567)","linear-gradient(62deg, #8EC5FC, #E0C3FC)","linear-gradient(90deg, #ffecd2, #fcb69f)","linear-gradient(120deg, #a1c4fd, #c2e9fb)","linear-gradient(-135deg, #fccb90, #d57eeb)","transparent"],skinColor:["#F9C9B6","#AC6651"],clothesColor:["#9287FF","#6BD9E9","#FC909F","#F4D150","#77311D"]},Se={lg:976},B="none",st=.1,Ce=[{wrapperShape:"squircle",background:{color:"#E0DDFF"},widgets:{face:{shape:Z.Base},tops:{shape:m.Pixie},ear:{shape:x.Attached},earrings:{shape:H.Stud},eyebrows:{shape:S.Up},eyes:{shape:C.Eyeshadow},nose:{shape:k.Pointed},glasses:{shape:B},mouth:{shape:A.Laughing},beard:{shape:B},clothes:{shape:V.Crew}}},{wrapperShape:"squircle",background:{color:"#F4D150"},widgets:{face:{shape:Z.Base},tops:{shape:m.Clean},ear:{shape:x.Attached},earrings:{shape:B},eyebrows:{shape:S.Eyelashesdown},eyes:{shape:C.Round},nose:{shape:k.Round},glasses:{shape:B},mouth:{shape:A.Surprised},beard:{shape:B},clothes:{shape:V.Crew}}}],rt=["quark","micromessenger","weibo","douban"],at=800;function R(e,{avoid:t=[],usually:o=[]}={}){const a=t.filter(Boolean),r=e.filter(p=>!a.includes(p)),i=o.filter(Boolean).reduce((p,_)=>p.concat(new Array(15).fill(_)),[]),d=r.concat(i),g=Math.floor(Math.random()*d.length);return d[g]}function he(e={},t={}){var d,g,f,p,_,h,c,y,v,w,P,G,z,de,ee;const o=R(D.gender),a=[];let r=[m.Danny,m.Wave,m.Pixie];return o===ae.Male&&(a.push(Q.Scruff),r=D.topsShape.filter(te=>!r.includes(te))),{gender:o,wrapperShape:(e==null?void 0:e.wrapperShape)||R(D.wrapperShape),background:{color:R(D.backgroundColor,{avoid:[(d=t.background)==null?void 0:d.color]})},widgets:{face:{shape:R(D.faceShape)},tops:{shape:R(r,{avoid:[(f=(g=t.widgets)==null?void 0:g.tops)==null?void 0:f.shape]})},ear:{shape:R(D.earShape,{avoid:[(_=(p=t.widgets)==null?void 0:p.ear)==null?void 0:_.shape]})},earrings:{shape:R(D.earringsShape,{usually:[B]})},eyebrows:{shape:R(D.eyebrowsShape,{avoid:[(c=(h=t.widgets)==null?void 0:h.eyebrows)==null?void 0:c.shape]})},eyes:{shape:R(D.eyesShape,{avoid:[(v=(y=t.widgets)==null?void 0:y.eyes)==null?void 0:v.shape]})},nose:{shape:R(D.noseShape,{avoid:[(P=(w=t.widgets)==null?void 0:w.nose)==null?void 0:P.shape]})},glasses:{shape:R(D.glassesShape,{usually:[B]})},mouth:{shape:R(D.mouthShape,{avoid:[(z=(G=t.widgets)==null?void 0:G.mouth)==null?void 0:z.shape]})},beard:{shape:R(a,{usually:[B]})},clothes:{shape:R(D.clothesShape,{avoid:[(ee=(de=t.widgets)==null?void 0:de.clothes)==null?void 0:ee.shape]})}}}}function Le(){return Ce[Math.floor(Math.random()*Ce.length)]}function nt(){s(()=>import("./confetti.module.0762cd04.js"),[]).then(e=>{const t=document.querySelector("#confetti");if(!t)return;const o=e.create(t,{resize:!0,useWorker:!0,disableForReducedMotion:!0}),a=performance.now()+1*1e3,r=["#6967fe","#85e9f4","#e16984"];(function i(){o({particleCount:r.length,angle:60,spread:55,origin:{x:0},colors:r}),o({particleCount:r.length,angle:120,spread:55,origin:{x:1},colors:r}),performance.now()<a&&requestAnimationFrame(i)})()})}function it(e){return e?(typeof e!="string"&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,t=>{let o="";return/^"/.test(t)?/:$/.test(t)?o="key":o="string":/true|false/.test(t)?o="boolean":/null/.test(t)?o="null":o="number",`<span class="token ${o}">${t}</span>`})):""}const Pe="SET_AVATAR_OPTION",Te="UNDO",ke="REDO",Ee="SET_SIDER_STATUS";var lt=He({strict:!0,state:{history:{past:[],present:he({wrapperShape:j.Squircle}),future:[]},isSiderCollapsed:window.innerWidth<=Se.lg},mutations:{[Pe](e,t){e.history={past:[...e.history.past,e.history.present],present:t,future:[]}},[Te](e){if(e.history.past.length>0){const t=e.history.past[e.history.past.length-1],o=e.history.past.slice(0,e.history.past.length-1);e.history={past:o,present:t,future:[e.history.present,...e.history.future]}}},[ke](e){if(e.history.future.length>0){const t=e.history.future[0],o=e.history.future.slice(1);e.history={past:[...e.history.past,e.history.present],present:t,future:o}}},[Ee](e,t){t!==e.isSiderCollapsed&&(e.isSiderCollapsed=t)}}});const Ve=Symbol();function le(){return Ge(Ve)}var ct="./assets/icon-back.88612e3f.svg",ut="./assets/icon-code.ed069616.svg",dt="./assets/icon-flip.5d6b1bc4.svg",_t="./assets/icon-next.a3453347.svg";var L=(e,t)=>{const o=e.__vccOpts||e;for(const[a,r]of t)o[a]=r;return o};const pt={class:"action-menu"},vt=["title","onClick"],ft=["src","alt"],ht=O({emits:["action"],setup(e,{emit:t}){const{t:o}=K(),a=le(),r=X(()=>a.state.history.past.length>0),i=X(()=>a.state.history.future.length>0),d=X(()=>[{type:$.Undo,icon:ct,tip:o("action.undo"),disabled:!r.value},{type:$.Redo,icon:_t,tip:o("action.redo"),disabled:!i.value},{type:$.Flip,icon:dt,tip:o("action.flip")},{type:$.Code,icon:ut,tip:o("action.code")}]);return(g,f)=>(E(),b("div",pt,[(E(!0),b(oe,null,se(u(d),p=>(E(),b("div",{key:p.type,class:q(["menu-item",{disabled:p.disabled}]),title:p.tip,onClick:_=>t("action",p.type)},[l("img",{src:p.icon,alt:p.tip},null,8,ft)],10,vt))),128))]))}});var Et=L(ht,[["__scopeId","data-v-1311037d"]]),mt="./assets/icon-close.093e6e68.svg";const Fe=O({props:{options:{type:null,required:!1}},setup(e){const t=e,o=T();let a;return ne(()=>{if(!o.value){console.warn("No valid 'PerfectScrollbar' container found");return}a=new We(o.value,N({minScrollbarLength:20,maxScrollbarLength:160},t.options))}),_e(()=>{a.destroy()}),(r,i)=>(E(),b("div",{ref_key:"scrollWrapper",ref:o,style:{position:"relative",overflow:"hidden"}},[ie(r.$slots,"default")],512))}});function me(){const e=le();return[X(()=>e.state.history.present),a=>{e.commit(Pe,a)}]}function $e(){const e=le();return{isCollapsed:X(()=>e.state.isSiderCollapsed),openSider:()=>{e.commit(Ee,!1)},closeSider:()=>{e.commit(Ee,!0)}}}const gt={class:"code-box"},bt={class:"code-header"},yt={class:"title"},wt=["src","alt"],At={class:"code-content-box"},Dt=["innerHTML"],It=["data-clipboard-text"],Ot=O({props:{visible:{type:Boolean,required:!1}},emits:["close"],setup(e,{emit:t}){const o=e,{t:a}=K(),[r]=me(),i=X(()=>JSON.stringify(r.value,null,4)),d=T("");Ae(()=>{i.value&&(d.value=it(i.value))});const g=T(!1);let f;return ne(()=>{f=new Ze("#copy-code-btn"),f.on("success",p=>{g.value=!0,setTimeout(()=>{g.value=!1},800),p.clearSelection()})}),_e(()=>{f.destroy()}),(p,_)=>(E(),pe(Je,{name:"fade"},{default:M(()=>[o.visible?(E(),b("div",{key:0,class:"code-modal",onClick:_[1]||(_[1]=De(h=>t("close"),["self"]))},[l("div",gt,[l("div",bt,[l("div",yt,U(u(a)("text.codeModalTitle")),1),l("div",{class:"close-btn",onClick:_[0]||(_[0]=h=>t("close"))},[l("img",{src:u(mt),class:"icon-close",alt:u(a)("action.close")},null,8,wt)])]),l("div",At,[I(Fe,{class:"code-scroll-wrapper",options:{suppressScrollX:!1}},{default:M(()=>[l("pre",null,[l("code",{class:"code-content",innerHTML:d.value},null,8,Dt)])]),_:1}),l("button",{id:"copy-code-btn",class:q(["copy-btn",{copied:g.value}]),"data-clipboard-text":u(i)},U(g.value?u(a)("action.copied"):u(a)("action.copyCode")),11,It)])])])):Ie("v-if",!0)]),_:1}))}});var Rt=L(Ot,[["__scopeId","data-v-2bf8be80"]]);const St={class:"setting-section"},Ct={class:"section-title"},Lt=O({props:{title:{type:String,required:!1}},setup(e){const t=e;return(o,a)=>(E(),b("div",St,[l("div",Ct,U(t.title),1),l("div",null,[ie(o.$slots,"default",{},void 0,!0)])]))}});var ge=L(Lt,[["__scopeId","data-v-94462dc4"]]);const ce={[n.Face]:{[Z.Base]:()=>s(()=>import("./base.4513d367.js"),[])},[n.Ear]:{[x.Attached]:()=>s(()=>import("./attached.d5a509e9.js"),[]),[x.Detached]:()=>s(()=>import("./detached.cd5c0883.js"),[])},[n.Eyes]:{[C.Ellipse]:()=>s(()=>import("./ellipse.4dd13248.js"),[]),[C.Eyeshadow]:()=>s(()=>import("./eyeshadow.ee5505a9.js"),[]),[C.Round]:()=>s(()=>import("./round.53811b8f.js"),[]),[C.Smiling]:()=>s(()=>import("./smiling.6213728a.js"),[])},[n.Beard]:{[Q.Scruff]:()=>s(()=>import("./scruff.0d474b9d.js"),[])},[n.Clothes]:{[V.Collared]:()=>s(()=>import("./collared.851a9f8c.js"),[]),[V.Crew]:()=>s(()=>import("./crew.f37ae6b7.js"),[]),[V.Open]:()=>s(()=>import("./open.1f183d62.js"),[])},[n.Earrings]:{[H.Hoop]:()=>s(()=>import("./hoop.99b38c8d.js"),[]),[H.Stud]:()=>s(()=>import("./stud.736f2a3a.js"),[])},[n.Eyebrows]:{[S.Down]:()=>s(()=>import("./down.caab3e66.js"),[]),[S.Eyelashesdown]:()=>s(()=>import("./eyelashesdown.68c94734.js"),[]),[S.Eyelashesup]:()=>s(()=>import("./eyelashesup.75d72440.js"),[]),[S.Up]:()=>s(()=>import("./up.571f52b7.js"),[])},[n.Glasses]:{[J.Round]:()=>s(()=>import("./round.934cf884.js"),[]),[J.Square]:()=>s(()=>import("./square.5c3898cc.js"),[])},[n.Mouth]:{[A.Frown]:()=>s(()=>import("./frown.b826704b.js"),[]),[A.Laughing]:()=>s(()=>import("./laughing.0e9c4472.js"),[]),[A.Nervous]:()=>s(()=>import("./nervous.9a08f217.js"),[]),[A.Pucker]:()=>s(()=>import("./pucker.909c210d.js"),[]),[A.Sad]:()=>s(()=>import("./sad.6402e6ab.js"),[]),[A.Smile]:()=>s(()=>import("./smile.49a9ae94.js"),[]),[A.Smirk]:()=>s(()=>import("./smirk.2f70da95.js"),[]),[A.Surprised]:()=>s(()=>import("./surprised.6574eb42.js"),[])},[n.Nose]:{[k.Curve]:()=>s(()=>import("./curve.b1680b44.js"),[]),[k.Pointed]:()=>s(()=>import("./pointed.9d9a810c.js"),[]),[k.Round]:()=>s(()=>import("./round.f5932b17.js"),[])},[n.Tops]:{[m.Beanie]:()=>s(()=>import("./beanie.d28ca1af.js"),[]),[m.Clean]:()=>s(()=>import("./clean.1ea659e6.js"),[]),[m.Danny]:()=>s(()=>import("./danny.0c19d968.js"),[]),[m.Fonze]:()=>s(()=>import("./fonze.f855fa3e.js"),[]),[m.Funny]:()=>s(()=>import("./funny.ffc2c94c.js"),[]),[m.Pixie]:()=>s(()=>import("./pixie.832b1a28.js"),[]),[m.Punk]:()=>s(()=>import("./punk.5772bc1f.js"),[]),[m.Turban]:()=>s(()=>import("./turban.029b07b7.js"),[]),[m.Wave]:()=>s(()=>import("./wave.948486fe.js"),[])}},ue={[n.Face]:{[Z.Base]:()=>s(()=>import("./base.d88a270a.js"),[])},[n.Ear]:{[x.Attached]:()=>s(()=>import("./attached.04632675.js"),[]),[x.Detached]:()=>s(()=>import("./detached.05f1ed8c.js"),[])},[n.Eyes]:{[C.Ellipse]:()=>s(()=>import("./ellipse.e17c0112.js"),[]),[C.Eyeshadow]:()=>s(()=>import("./eyeshadow.e952b02b.js"),[]),[C.Round]:()=>s(()=>import("./round.0e7c03f1.js"),[]),[C.Smiling]:()=>s(()=>import("./smiling.1b7c47a4.js"),[])},[n.Beard]:{[Q.Scruff]:()=>s(()=>import("./scruff.9fff0b98.js"),[])},[n.Clothes]:{[V.Collared]:()=>s(()=>import("./collared.534fe35b.js"),[]),[V.Crew]:()=>s(()=>import("./crew.0d8fb0c6.js"),[]),[V.Open]:()=>s(()=>import("./open.43353202.js"),[])},[n.Earrings]:{[H.Hoop]:()=>s(()=>import("./hoop.08ec4532.js"),[]),[H.Stud]:()=>s(()=>import("./stud.2f888642.js"),[])},[n.Eyebrows]:{[S.Down]:()=>s(()=>import("./down.4a71f911.js"),[]),[S.Eyelashesdown]:()=>s(()=>import("./eyelashesdown.54878f1c.js"),[]),[S.Eyelashesup]:()=>s(()=>import("./eyelashesup.824704b4.js"),[]),[S.Up]:()=>s(()=>import("./up.251891a5.js"),[])},[n.Glasses]:{[J.Round]:()=>s(()=>import("./round.64817114.js"),[]),[J.Square]:()=>s(()=>import("./square.32f26cf0.js"),[])},[n.Mouth]:{[A.Frown]:()=>s(()=>import("./frown.d56d8487.js"),[]),[A.Laughing]:()=>s(()=>import("./laughing.00bb9e02.js"),[]),[A.Nervous]:()=>s(()=>import("./nervous.e5b20b14.js"),[]),[A.Pucker]:()=>s(()=>import("./pucker.4175d388.js"),[]),[A.Sad]:()=>s(()=>import("./sad.b2f40925.js"),[]),[A.Smile]:()=>s(()=>import("./smile.a51fc949.js"),[]),[A.Smirk]:()=>s(()=>import("./smirk.bcd1ce10.js"),[]),[A.Surprised]:()=>s(()=>import("./surprised.165d4852.js"),[])},[n.Nose]:{[k.Curve]:()=>s(()=>import("./curve.07b09785.js"),[]),[k.Pointed]:()=>s(()=>import("./pointed.530a8d46.js"),[]),[k.Round]:()=>s(()=>import("./round.acb35e17.js"),[])},[n.Tops]:{[m.Beanie]:()=>s(()=>import("./beanie.ba4230be.js"),[]),[m.Clean]:()=>s(()=>import("./clean.e228de68.js"),[]),[m.Danny]:()=>s(()=>import("./danny.3969d15b.js"),[]),[m.Fonze]:()=>s(()=>import("./fonze.82adb1ce.js"),[]),[m.Funny]:()=>s(()=>import("./funny.78babb5a.js"),[]),[m.Pixie]:()=>s(()=>import("./pixie.641bae09.js"),[]),[m.Punk]:()=>s(()=>import("./punk.03f85ac7.js"),[]),[m.Turban]:()=>s(()=>import("./turban.0309ef68.js"),[]),[m.Wave]:()=>s(()=>import("./wave.e02ee196.js"),[])}};const Pt={class:"configurator"},Tt={class:"wrapper-shape"},kt=["title","onClick"],Vt={class:"bg-color-list"},Ft=["onClick"],$t={class:"widget-list"},jt=["onClick","innerHTML"],xt=O({setup(e){const{t}=K(),[o,a]=me(),r=Ye(Object.values(n)),i=T([]);ne(()=>{(async()=>{const _=await Promise.all(r.map(h=>d(h)));i.value=r.map((h,c)=>({widgetType:h,widgetList:_[c]}))})()});async function d(_){const h=D[`${_}Shape`],c=h.map(async v=>{var w;return v!=="none"&&((w=ue==null?void 0:ue[_])==null?void 0:w[v])?(await ue[_][v]()).default:"X"});return await Promise.all(c).then(v=>v.map((w,P)=>({widgetType:_,widgetShape:h[P],svgRaw:w})))}function g(_){_!==o.value.wrapperShape&&a(W(N({},o.value),{wrapperShape:_}))}function f(_){_!==o.value.background.color&&a(W(N({},o.value),{background:W(N({},o.value.background),{color:_})}))}function p(_,h){var c,y;h&&((c=o.value.widgets)==null?void 0:c[_])&&a(W(N({},o.value),{widgets:W(N({},o.value.widgets),{[_]:W(N({},(y=o.value.widgets)==null?void 0:y[_]),{shape:h})})}))}return(_,h)=>(E(),pe(Fe,{class:"configurator-scroll"},{default:M(()=>[l("div",Pt,[I(ge,{title:u(t)("label.wrapperShape")},{default:M(()=>[l("ul",Tt,[(E(!0),b(oe,null,se(u(D).wrapperShape,c=>(E(),b("li",{key:c,class:"wrapper-shape__item",title:u(t)(`wrapperShape.${c}`),onClick:y=>g(c)},[l("i",{class:q(["shape",[c,{active:c===u(o).wrapperShape}]])},null,2)],8,kt))),128))])]),_:1},8,["title"]),I(ge,{title:u(t)("label.backgroundColor")},{default:M(()=>[l("ul",Vt,[(E(!0),b(oe,null,se(u(D).backgroundColor,c=>(E(),b("li",{key:c,class:"bg-color-list__item",onClick:y=>f(c)},[l("div",{style:re({background:c}),class:q(["bg-color",{active:c===u(o).background.color,transparent:c==="transparent"}])},null,6)],8,Ft))),128))])]),_:1},8,["title"]),(E(!0),b(oe,null,se(i.value,c=>(E(),pe(ge,{key:c.widgetType,title:u(t)(`widgetType.${c.widgetType}`)},{default:M(()=>[l("ul",$t,[(E(!0),b(oe,null,se(c.widgetList,y=>{var v,w;return E(),b("li",{key:y.widgetShape,class:q(["list-item",{selected:y.widgetShape===((w=(v=u(o).widgets)==null?void 0:v[c.widgetType])==null?void 0:w.shape)}]),onClick:P=>p(c.widgetType,y.widgetShape),innerHTML:y.svgRaw},null,10,jt)}),128))])]),_:2},1032,["title"]))),128))])]),_:1}))}});var Bt=L(xt,[["__scopeId","data-v-7324cce5"]]);const zt={class:"modal-body"},Nt={class:"avatar-preview"},qt=["src"],Mt={class:"tip"},Ut=O({props:{visible:{type:Boolean,required:!1},imageUrl:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const o=e,{t:a}=K();return(r,i)=>o.visible?(E(),b("div",{key:0,class:"download-modal-wrapper",onClick:i[2]||(i[2]=d=>t("close"))},[l("div",{class:"download-modal",onClick:i[1]||(i[1]=De(()=>{},["stop"]))},[l("div",zt,[l("div",Nt,[l("img",{alt:"vue-color-avatar",src:o.imageUrl,class:"avatar-img"},null,8,qt)]),l("p",Mt,U(u(a)("text.downloadTip"))+" \u{1F973}",1)]),l("button",{class:"close-btn",onClick:i[0]||(i[0]=d=>t("close"))},U(u(a)("action.close")),1)])])):Ie("v-if",!0)}});var Ht=L(Ut,[["__scopeId","data-v-eec95ef6"]]);const Gt=O({props:{color:{type:null,required:!0}},setup(e){const t=e;return(o,a)=>(E(),b("div",{class:"avatar-background",style:re({background:t.color})},null,4))}});var Wt=L(Gt,[["__scopeId","data-v-108bafbe"]]);const Zt=["innerHTML"],Jt=O({props:{option:{type:null,required:!0,default:()=>he()},size:{type:Number,required:!1,default:280}},setup(e,{expose:t}){const o=e,{option:a,size:r}=Ke(o),i=T();t({avatarRef:i});function d(){return{[j.Circle]:a.value.wrapperShape===j.Circle,[j.Square]:a.value.wrapperShape===j.Square,[j.Squircle]:a.value.wrapperShape===j.Squircle}}const g=T("");return Ae(async()=>{const f=Object.entries(a.value.widgets).sort((h,c)=>{var w,P,G,z;const y=(P=(w=Re[h[0]])==null?void 0:w.zIndex)!=null?P:0,v=(z=(G=Re[c[0]])==null?void 0:G.zIndex)!=null?z:0;return y-v}),p=f.map(async([h,c])=>{var y;return c.shape!==B&&((y=ce==null?void 0:ce[h])==null?void 0:y[c.shape])?(await ce[h][c.shape]()).default:""}),_=await Promise.all(p).then(h=>h.map((c,y)=>{const v=c.slice(c.indexOf(">",c.indexOf("<svg"))+1).replace("</svg>","");return`
        <g id="vue-color-avatar-${f[y][0]}">
          ${v}
        </g>
      `}));g.value=`
    <svg
      width="${r.value}"
      height="${r.value}"
      viewBox="0 0 ${r.value/.7} ${r.value/.7}"
      preserveAspectRatio="xMidYMax meet"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g transform="translate(100, 65)">
        ${_.join("")}
      </g>
    </svg>
  `}),(f,p)=>(E(),b("div",{ref_key:"avatarRef",ref:i,class:q(["vue-color-avatar",d()]),style:re({width:`${u(r)}px`,height:`${u(r)}px`})},[I(Wt,{color:u(a).background.color},null,8,["color"]),l("div",{class:"avatar-payload",innerHTML:g.value},null,8,Zt)],6))}});var Yt=L(Jt,[["__scopeId","data-v-101d4f34"]]);const Kt=O({setup(e){const{isCollapsed:t,openSider:o,closeSider:a}=$e();function r(){window.innerWidth<=Se.lg?a():o()}return ne(()=>{(function(){(function(d,g,f){f=f||window;let p=!1;const _=()=>{p||(p=!0,requestAnimationFrame(()=>{f.dispatchEvent(new CustomEvent(g)),p=!1}))};f.addEventListener(d,_)})("resize","optimizedResize",window)})(),window.addEventListener("optimizedResize",r)}),_e(()=>{window.removeEventListener("optimizedResize",r)}),(i,d)=>(E(),b("section",{class:q(["container",{full:u(t)}])},[ie(i.$slots,"default",{},void 0,!0)],2))}});var Xt=L(Kt,[["__scopeId","data-v-63a34452"]]);const je=e=>(ve("data-v-6b04379a"),e=e(),fe(),e),Qt={class:"footer"},eo=je(()=>l("div",null,[l("a",{class:"link",href:"http://zooif.com",target:"_blank",rel:"nofollow noopener noreferrer"}," zooif ")],-1)),to=je(()=>l("div",{class:"divider"},"|",-1)),oo=O({setup(e){const{locale:t}=K();function o(){t.value=t.value===F.EN?F.ZH:F.EN}return(a,r)=>(E(),b("footer",Qt,[eo,to,l("div",{class:"locale",onClick:o},U(u(t)===u(F).EN?"\u7B80\u4F53\u4E2D\u6587":"English"),1)]))}});var so=L(oo,[["__scopeId","data-v-6b04379a"]]),xe="./assets/logo.ed88ef00.png";const ro=["src"],ao=O({props:{size:{type:Number,required:!1,default:2.5}},setup(e){const t=e;return(o,a)=>(E(),b("img",{style:re([{width:"40px",height:"40px"},{width:`${t.size}rem`,height:`${t.size}rem`}]),src:u(xe),alt:"logo"},null,12,ro))}});function Y(e,t){window==null||window.gtag("event",e,t)}const Be=e=>(ve("data-v-e792c8e8"),e=e(),fe(),e),no={class:"header"},io=Be(()=>l("h2",{class:"site-title"},"ZooIf Color Avatar",-1)),lo={class:"header-right"},co={href:"http://zooif.comr",target:"_blank",rel:"nofollow noopener noreferrer"},uo=["src"],_o=Be(()=>l("span",{class:"text"},"ZooIf",-1)),po=O({setup(e){return(t,o)=>(E(),b("header",no,[I(ao),io,l("div",lo,[l("a",co,[l("button",{class:"github-button",onClick:o[0]||(o[0]=a=>u(Y)("click_github",{event_category:"click"}))},[l("img",{src:u(xe),width:"30",alt:"ZooIf"},null,8,uo),_o])])])]))}});var vo=L(po,[["__scopeId","data-v-e792c8e8"]]),fo="./assets/icon-right.8e89d2c1.svg";const ho=["src"],Eo=O({setup(e){const{isCollapsed:t,openSider:o,closeSider:a}=$e();return(r,i)=>(E(),b("aside",{class:q(["sider",{collapsed:u(t)}])},[ie(r.$slots,"default",{},void 0,!0),l("div",{class:"trigger",onClick:i[0]||(i[0]=d=>u(t)?u(o)():u(a)())},[l("img",{src:u(fo),class:"icon-right",alt:"arrow"},null,8,ho)])],2))}});var mo=L(Eo,[["__scopeId","data-v-b8078568"]]);const go={},bo={id:"confetti",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}};function yo(e,t){return E(),b("canvas",bo)}var wo=L(go,[["render",yo]]);const Ao=e=>(ve("data-v-7ba5bd90"),e=e(),fe(),e),Do={class:"main"},Io={class:"content-warpper"},Oo={class:"content-view"},Ro={class:"playground"},So={class:"avatar-wrapper"},Co={class:"action-group"},Lo=["disabled"],Po=Ao(()=>l("div",{class:"gradient-bg"},[l("div",{class:"gradient-top"}),l("div",{class:"gradient-bottom"})],-1)),To=O({setup(e){const t=le(),[o,a]=me(),{t:r}=K(),i=T();function d(){if(Math.random()<=st){let v=Le();for(;JSON.stringify(v)===JSON.stringify(o.value);)v=Le();v.wrapperShape=o.value.wrapperShape,a(v),nt()}else{const v=he(o.value);a(v)}Y("click_randomize",{event_category:"click"})}const g=T(!1),f=T(!1),p=T("");async function _(){var v;try{f.value=!0;const w=(v=i.value)==null?void 0:v.avatarRef,P=window.navigator.userAgent.toLowerCase(),G=rt.some(z=>P.indexOf(z)!==-1);if(w){const ee=(await(await s(()=>import("./html2canvas.esm.0488f9f9.js"),[])).default(w,{backgroundColor:null})).toDataURL();if(G)p.value=ee,g.value=!0;else{const te=document.createElement("a");te.href=ee,te.download="vue-color-avatar.png",te.click()}}Y("click_download",{event_category:"click"})}finally{setTimeout(()=>{f.value=!1},at)}}const h=T(!1),c=T(!1);function y(v){switch(v){case $.Undo:t.commit(Te),Y("action_undo",{event_category:"action",event_label:"Undo"});break;case $.Redo:t.commit(ke),Y("action_redo",{event_category:"action",event_label:"Redo"});break;case $.Flip:h.value=!h.value,Y("action_flip_avatar",{event_category:"action",event_label:"Flip Avatar"});break;case $.Code:c.value=!c.value,Y("action_view_code",{event_category:"action",event_label:"View Avatar Option Code"});break}}return(v,w)=>(E(),b("main",Do,[I(Xt,null,{default:M(()=>[l("div",Io,[l("div",Oo,[I(vo),l("div",Ro,[l("div",So,[I(Yt,{ref_key:"colorAvatarRef",ref:i,option:u(o),size:280,style:re({transform:`rotateY(${h.value?-180:0}deg)`})},null,8,["option","style"])]),I(Et,{onAction:y}),l("div",Co,[l("button",{class:"action-randomize",onClick:d},U(u(r)("action.randomize")),1),l("button",{class:"action-download",disabled:f.value,onClick:_},U(f.value?`${u(r)("action.downloading")}...`:u(r)("action.download")),9,Lo)])]),I(so),I(Rt,{visible:c.value,onClose:w[0]||(w[0]=P=>c.value=!1)},null,8,["visible"]),I(Ht,{visible:g.value,"image-url":p.value,onClose:w[1]||(w[1]=P=>{g.value=!1,p.value=""})},null,8,["visible","image-url"])]),I(wo),Po])]),_:1}),I(mo,null,{default:M(()=>[I(Bt)]),_:1})]))}});var ko=L(To,[["__scopeId","data-v-7ba5bd90"]]),Vo={action:{undo:"undo",redo:"redo",flip:"flip",code:"code",randomize:"Randomize",download:"Download",copyCode:"Copy",copied:"Copied",downloading:"Downloading",close:"Close"},label:{wrapperShape:"Avatar Shape",backgroundColor:"Background Color"},widgetType:{[n.Face]:"Face",[n.Tops]:"Tops",[n.Ear]:"Ear",[n.Earrings]:"Earrings",[n.Eyebrows]:"Eyebrows",[n.Eyes]:"Eyes",[n.Nose]:"Nose",[n.Glasses]:"Glasses",[n.Mouth]:"Mouth",[n.Beard]:"Beard",[n.Clothes]:"Clothes"},wrapperShape:{circle:"Circle",square:"Square",squircle:"Squircle"},text:{codeModalTitle:"Code",downloadTip:"LONG PRESS or RIGHT CLICK to save"}},Fo={action:{undo:"\u64A4\u9500",redo:"\u8FD8\u539F",flip:"\u6C34\u5E73\u7FFB\u8F6C",code:"\u914D\u7F6E\u4EE3\u7801",randomize:"\u968F\u673A\u751F\u6210",download:"\u4E0B\u8F7D\u5934\u50CF",copyCode:"\u590D\u5236\u4EE3\u7801",copied:"\u5DF2\u590D\u5236",downloading:"\u51C6\u5907\u4E0B\u8F7D",close:"\u5173\u95ED"},label:{wrapperShape:"\u5934\u50CF\u5F62\u72B6",backgroundColor:"\u80CC\u666F\u989C\u8272"},widgetType:{[n.Face]:"\u8138\u86CB",[n.Tops]:"\u5934\u53D1 / \u5934\u9970",[n.Ear]:"\u8033\u6735",[n.Earrings]:"\u8033\u73AF",[n.Eyebrows]:"\u7709\u6BDB",[n.Eyes]:"\u773C\u775B",[n.Nose]:"\u9F3B\u5B50",[n.Glasses]:"\u773C\u955C",[n.Mouth]:"\u5634\u5DF4",[n.Beard]:"\u80E1\u5B50",[n.Clothes]:"\u8863\u7740"},wrapperShape:{circle:"\u5706\u5F62",square:"\u65B9\u5F62",squircle:"\u65B9\u5706\u5F62"},text:{codeModalTitle:"\u914D\u7F6E\u4EE3\u7801",downloadTip:"\u957F\u6309\u56FE\u7247\u6216\u53F3\u952E\u70B9\u51FB\u4E0B\u8F7D\u81F3\u672C\u5730\u76F8\u518C"}};const $o={en:Vo,zh:Fo},[jo,xo]=/^zh\b/.test(window.navigator.language)?[F.ZH,F.EN]:[F.EN,F.ZH];var Bo=Xe({locale:jo,fallbackLocale:xo,messages:$o});const be=Qe(ko);be.use(lt,Ve);be.use(Bo);be.mount("#app");
