var Be=Object.defineProperty,Ne=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var we=(e,t,o)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,z=(e,t)=>{for(var o in t||(t={}))qe.call(t,o)&&we(e,o,t[o]);if(ye)for(var o of ye(t))Me.call(t,o)&&we(e,o,t[o]);return e},W=(e,t)=>Ne(e,ze(t));import{c as He,u as Ue,d as I,a as K,b as X,o as E,e as b,F as oe,r as se,f as u,n as q,g as l,h as T,i as ne,P as Ge,j as _e,k as ie,w as Ae,C as We,l as pe,m as M,t as H,p as O,q as De,s as Oe,T as Je,v as Ye,x as ae,y as Ze,z as ve,A as fe,B as Ke,D as Xe,E as Qe}from"./vendor.85ad36d3.js";const et=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}};et();var F;(function(e){e.ZH="zh",e.EN="en"})(F||(F={}));var $;(function(e){e.Undo="undo",e.Redo="redo",e.Flip="flip",e.Code="code"})($||($={}));var re;(function(e){e.Male="male",e.Female="female",e.NotSet="notSet"})(re||(re={}));var n;(function(e){e.Face="face",e.Tops="tops",e.Ear="ear",e.Earrings="earrings",e.Eyebrows="eyebrows",e.Eyes="eyes",e.Nose="nose",e.Glasses="glasses",e.Mouth="mouth",e.Beard="beard",e.Clothes="clothes"})(n||(n={}));var j;(function(e){e.Circle="circle",e.Square="square",e.Squircle="squircle"})(j||(j={}));var J;(function(e){e.Base="base"})(J||(J={}));var m;(function(e){e.Fonze="fonze",e.Funny="funny",e.Clean="clean",e.Punk="punk",e.Danny="danny",e.Wave="wave",e.Turban="turban",e.Pixie="pixie",e.Beanie="beanie"})(m||(m={}));var x;(function(e){e.Attached="attached",e.Detached="detached"})(x||(x={}));var U;(function(e){e.Hoop="hoop",e.Stud="stud",e.None="none"})(U||(U={}));var C;(function(e){e.Up="up",e.Down="down",e.Eyelashesup="eyelashesup",e.Eyelashesdown="eyelashesdown"})(C||(C={}));var S;(function(e){e.Ellipse="ellipse",e.Smiling="smiling",e.Eyeshadow="eyeshadow",e.Round="round"})(S||(S={}));var k;(function(e){e.Curve="curve",e.Round="round",e.Pointed="pointed"})(k||(k={}));var A;(function(e){e.Frown="frown",e.Laughing="laughing",e.Nervous="nervous",e.Pucker="pucker",e.Sad="sad",e.Smile="smile",e.Smirk="smirk",e.Surprised="surprised"})(A||(A={}));var Q;(function(e){e.Scruff="scruff",e.None="none"})(Q||(Q={}));var Y;(function(e){e.Round="round",e.Square="square",e.None="none"})(Y||(Y={}));var V;(function(e){e.Crew="crew",e.Collared="collared",e.Open="open"})(V||(V={}));const tt="modulepreload",Ie={},ot="./",s=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${ot}${r}`,r in Ie)return;Ie[r]=!0;const a=r.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":tt,a||(d.as="script",d.crossOrigin=""),d.href=r,document.head.appendChild(d),a)return new Promise((g,f)=>{d.addEventListener("load",g),d.addEventListener("error",f)})})).then(()=>t())},Re={[n.Face]:{zIndex:10},[n.Ear]:{zIndex:102},[n.Earrings]:{zIndex:103},[n.Eyebrows]:{zIndex:70},[n.Eyes]:{zIndex:50},[n.Nose]:{zIndex:60},[n.Glasses]:{zIndex:90},[n.Mouth]:{zIndex:100},[n.Beard]:{zIndex:105},[n.Tops]:{zIndex:80},[n.Clothes]:{zIndex:110}},D={gender:[re.Male,re.Female],wrapperShape:Object.values(j),faceShape:Object.values(J),topsShape:Object.values(m),earShape:Object.values(x),earringsShape:Object.values(U),eyebrowsShape:Object.values(C),eyesShape:Object.values(S),noseShape:Object.values(k),glassesShape:Object.values(Y),mouthShape:Object.values(A),beardShape:Object.values(Q),clothesShape:Object.values(V),backgroundColor:["#6BD9E9","#FC909F","#F4D150","#E0DDFF","#D2EFF3","#FFEDEF","#FFEBA4","#506AF4","#F48150","#48A99A","#C09FFF","#FD6F5D","linear-gradient(45deg, #E3648C, #D97567)","linear-gradient(62deg, #8EC5FC, #E0C3FC)","linear-gradient(90deg, #ffecd2, #fcb69f)","linear-gradient(120deg, #a1c4fd, #c2e9fb)","linear-gradient(-135deg, #fccb90, #d57eeb)","transparent"],skinColor:["#F9C9B6","#AC6651"],clothesColor:["#9287FF","#6BD9E9","#FC909F","#F4D150","#77311D"]},Ce={lg:976},B="none",st=.1,Se=[{wrapperShape:"squircle",background:{color:"#E0DDFF"},widgets:{face:{shape:J.Base},tops:{shape:m.Pixie},ear:{shape:x.Attached},earrings:{shape:U.Stud},eyebrows:{shape:C.Up},eyes:{shape:S.Eyeshadow},nose:{shape:k.Pointed},glasses:{shape:B},mouth:{shape:A.Laughing},beard:{shape:B},clothes:{shape:V.Crew}}},{wrapperShape:"squircle",background:{color:"#F4D150"},widgets:{face:{shape:J.Base},tops:{shape:m.Clean},ear:{shape:x.Attached},earrings:{shape:B},eyebrows:{shape:C.Eyelashesdown},eyes:{shape:S.Round},nose:{shape:k.Round},glasses:{shape:B},mouth:{shape:A.Surprised},beard:{shape:B},clothes:{shape:V.Crew}}}],at=["quark","micromessenger","weibo","douban"],rt=800;function R(e,{avoid:t=[],usually:o=[]}={}){const r=t.filter(Boolean),a=e.filter(p=>!r.includes(p)),i=o.filter(Boolean).reduce((p,_)=>p.concat(new Array(15).fill(_)),[]),d=a.concat(i),g=Math.floor(Math.random()*d.length);return d[g]}function he(e={},t={}){var d,g,f,p,_,h,c,y,v,w,P,G,N,de,ee;const o=R(D.gender),r=[];let a=[m.Danny,m.Wave,m.Pixie];return o===re.Male&&(r.push(Q.Scruff),a=D.topsShape.filter(te=>!a.includes(te))),{gender:o,wrapperShape:(e==null?void 0:e.wrapperShape)||R(D.wrapperShape),background:{color:R(D.backgroundColor,{avoid:[(d=t.background)==null?void 0:d.color]})},widgets:{face:{shape:R(D.faceShape)},tops:{shape:R(a,{avoid:[(f=(g=t.widgets)==null?void 0:g.tops)==null?void 0:f.shape]})},ear:{shape:R(D.earShape,{avoid:[(_=(p=t.widgets)==null?void 0:p.ear)==null?void 0:_.shape]})},earrings:{shape:R(D.earringsShape,{usually:[B]})},eyebrows:{shape:R(D.eyebrowsShape,{avoid:[(c=(h=t.widgets)==null?void 0:h.eyebrows)==null?void 0:c.shape]})},eyes:{shape:R(D.eyesShape,{avoid:[(v=(y=t.widgets)==null?void 0:y.eyes)==null?void 0:v.shape]})},nose:{shape:R(D.noseShape,{avoid:[(P=(w=t.widgets)==null?void 0:w.nose)==null?void 0:P.shape]})},glasses:{shape:R(D.glassesShape,{usually:[B]})},mouth:{shape:R(D.mouthShape,{avoid:[(N=(G=t.widgets)==null?void 0:G.mouth)==null?void 0:N.shape]})},beard:{shape:R(r,{usually:[B]})},clothes:{shape:R(D.clothesShape,{avoid:[(ee=(de=t.widgets)==null?void 0:de.clothes)==null?void 0:ee.shape]})}}}}function Le(){return Se[Math.floor(Math.random()*Se.length)]}function nt(){s(()=>import("./confetti.module.0762cd04.js"),[]).then(e=>{const t=document.querySelector("#confetti");if(!t)return;const o=e.create(t,{resize:!0,useWorker:!0,disableForReducedMotion:!0}),r=performance.now()+1*1e3,a=["#6967fe","#85e9f4","#e16984"];(function i(){o({particleCount:a.length,angle:60,spread:55,origin:{x:0},colors:a}),o({particleCount:a.length,angle:120,spread:55,origin:{x:1},colors:a}),performance.now()<r&&requestAnimationFrame(i)})()})}function it(e){return e?(typeof e!="string"&&(e=JSON.stringify(e,void 0,2)),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,t=>{let o="";return/^"/.test(t)?/:$/.test(t)?o="key":o="string":/true|false/.test(t)?o="boolean":/null/.test(t)?o="null":o="number",`<span class="token ${o}">${t}</span>`})):""}const Pe="SET_AVATAR_OPTION",Te="UNDO",ke="REDO",Ee="SET_SIDER_STATUS";var lt=He({strict:!0,state:{history:{past:[],present:he({wrapperShape:j.Squircle}),future:[]},isSiderCollapsed:window.innerWidth<=Ce.lg},mutations:{[Pe](e,t){e.history={past:[...e.history.past,e.history.present],present:t,future:[]}},[Te](e){if(e.history.past.length>0){const t=e.history.past[e.history.past.length-1],o=e.history.past.slice(0,e.history.past.length-1);e.history={past:o,present:t,future:[e.history.present,...e.history.future]}}},[ke](e){if(e.history.future.length>0){const t=e.history.future[0],o=e.history.future.slice(1);e.history={past:[...e.history.past,e.history.present],present:t,future:o}}},[Ee](e,t){t!==e.isSiderCollapsed&&(e.isSiderCollapsed=t)}}});const Ve=Symbol();function le(){return Ue(Ve)}var ct="./assets/icon-back.88612e3f.svg",ut="./assets/icon-code.ed069616.svg",dt="./assets/icon-flip.5d6b1bc4.svg",_t="./assets/icon-next.a3453347.svg";var L=(e,t)=>{const o=e.__vccOpts||e;for(const[r,a]of t)o[r]=a;return o};const pt={class:"action-menu"},vt=["title","onClick"],ft=["src","alt"],ht=I({emits:["action"],setup(e,{emit:t}){const{t:o}=K(),r=le(),a=X(()=>r.state.history.past.length>0),i=X(()=>r.state.history.future.length>0),d=X(()=>[{type:$.Undo,icon:ct,tip:o("action.undo"),disabled:!a.value},{type:$.Redo,icon:_t,tip:o("action.redo"),disabled:!i.value},{type:$.Flip,icon:dt,tip:o("action.flip")},{type:$.Code,icon:ut,tip:o("action.code")}]);return(g,f)=>(E(),b("div",pt,[(E(!0),b(oe,null,se(u(d),p=>(E(),b("div",{key:p.type,class:q(["menu-item",{disabled:p.disabled}]),title:p.tip,onClick:_=>t("action",p.type)},[l("img",{src:p.icon,alt:p.tip},null,8,ft)],10,vt))),128))]))}});var Et=L(ht,[["__scopeId","data-v-1311037d"]]),mt="./assets/icon-close.093e6e68.svg";const Fe=I({props:{options:{type:null,required:!1}},setup(e){const t=e,o=T();let r;return ne(()=>{if(!o.value){console.warn("No valid 'PerfectScrollbar' container found");return}r=new Ge(o.value,z({minScrollbarLength:20,maxScrollbarLength:160},t.options))}),_e(()=>{r.destroy()}),(a,i)=>(E(),b("div",{ref_key:"scrollWrapper",ref:o,style:{position:"relative",overflow:"hidden"}},[ie(a.$slots,"default")],512))}});function me(){const e=le();return[X(()=>e.state.history.present),r=>{e.commit(Pe,r)}]}function $e(){const e=le();return{isCollapsed:X(()=>e.state.isSiderCollapsed),openSider:()=>{e.commit(Ee,!1)},closeSider:()=>{e.commit(Ee,!0)}}}const gt={class:"code-box"},bt={class:"code-header"},yt={class:"title"},wt=["src","alt"],At={class:"code-content-box"},Dt=["innerHTML"],Ot=["data-clipboard-text"],It=I({props:{visible:{type:Boolean,required:!1}},emits:["close"],setup(e,{emit:t}){const o=e,{t:r}=K(),[a]=me(),i=X(()=>JSON.stringify(a.value,null,4)),d=T("");Ae(()=>{i.value&&(d.value=it(i.value))});const g=T(!1);let f;return ne(()=>{f=new We("#copy-code-btn"),f.on("success",p=>{g.value=!0,setTimeout(()=>{g.value=!1},800),p.clearSelection()})}),_e(()=>{f.destroy()}),(p,_)=>(E(),pe(Je,{name:"fade"},{default:M(()=>[o.visible?(E(),b("div",{key:0,class:"code-modal",onClick:_[1]||(_[1]=De(h=>t("close"),["self"]))},[l("div",gt,[l("div",bt,[l("div",yt,H(u(r)("text.codeModalTitle")),1),l("div",{class:"close-btn",onClick:_[0]||(_[0]=h=>t("close"))},[l("img",{src:u(mt),class:"icon-close",alt:u(r)("action.close")},null,8,wt)])]),l("div",At,[O(Fe,{class:"code-scroll-wrapper",options:{suppressScrollX:!1}},{default:M(()=>[l("pre",null,[l("code",{class:"code-content",innerHTML:d.value},null,8,Dt)])]),_:1}),l("button",{id:"copy-code-btn",class:q(["copy-btn",{copied:g.value}]),"data-clipboard-text":u(i)},H(g.value?u(r)("action.copied"):u(r)("action.copyCode")),11,Ot)])])])):Oe("v-if",!0)]),_:1}))}});var Rt=L(It,[["__scopeId","data-v-2bf8be80"]]);const Ct={class:"setting-section"},St={class:"section-title"},Lt=I({props:{title:{type:String,required:!1}},setup(e){const t=e;return(o,r)=>(E(),b("div",Ct,[l("div",St,H(t.title),1),l("div",null,[ie(o.$slots,"default",{},void 0,!0)])]))}});var ge=L(Lt,[["__scopeId","data-v-94462dc4"]]);const ce={[n.Face]:{[J.Base]:()=>s(()=>import("./base.4513d367.js"),[])},[n.Ear]:{[x.Attached]:()=>s(()=>import("./attached.d5a509e9.js"),[]),[x.Detached]:()=>s(()=>import("./detached.cd5c0883.js"),[])},[n.Eyes]:{[S.Ellipse]:()=>s(()=>import("./ellipse.4dd13248.js"),[]),[S.Eyeshadow]:()=>s(()=>import("./eyeshadow.ee5505a9.js"),[]),[S.Round]:()=>s(()=>import("./round.53811b8f.js"),[]),[S.Smiling]:()=>s(()=>import("./smiling.6213728a.js"),[])},[n.Beard]:{[Q.Scruff]:()=>s(()=>import("./scruff.0d474b9d.js"),[])},[n.Clothes]:{[V.Collared]:()=>s(()=>import("./collared.851a9f8c.js"),[]),[V.Crew]:()=>s(()=>import("./crew.f37ae6b7.js"),[]),[V.Open]:()=>s(()=>import("./open.1f183d62.js"),[])},[n.Earrings]:{[U.Hoop]:()=>s(()=>import("./hoop.99b38c8d.js"),[]),[U.Stud]:()=>s(()=>import("./stud.736f2a3a.js"),[])},[n.Eyebrows]:{[C.Down]:()=>s(()=>import("./down.caab3e66.js"),[]),[C.Eyelashesdown]:()=>s(()=>import("./eyelashesdown.68c94734.js"),[]),[C.Eyelashesup]:()=>s(()=>import("./eyelashesup.75d72440.js"),[]),[C.Up]:()=>s(()=>import("./up.571f52b7.js"),[])},[n.Glasses]:{[Y.Round]:()=>s(()=>import("./round.934cf884.js"),[]),[Y.Square]:()=>s(()=>import("./square.5c3898cc.js"),[])},[n.Mouth]:{[A.Frown]:()=>s(()=>import("./frown.b826704b.js"),[]),[A.Laughing]:()=>s(()=>import("./laughing.0e9c4472.js"),[]),[A.Nervous]:()=>s(()=>import("./nervous.9a08f217.js"),[]),[A.Pucker]:()=>s(()=>import("./pucker.909c210d.js"),[]),[A.Sad]:()=>s(()=>import("./sad.6402e6ab.js"),[]),[A.Smile]:()=>s(()=>import("./smile.49a9ae94.js"),[]),[A.Smirk]:()=>s(()=>import("./smirk.2f70da95.js"),[]),[A.Surprised]:()=>s(()=>import("./surprised.6574eb42.js"),[])},[n.Nose]:{[k.Curve]:()=>s(()=>import("./curve.b1680b44.js"),[]),[k.Pointed]:()=>s(()=>import("./pointed.9d9a810c.js"),[]),[k.Round]:()=>s(()=>import("./round.f5932b17.js"),[])},[n.Tops]:{[m.Beanie]:()=>s(()=>import("./beanie.d28ca1af.js"),[]),[m.Clean]:()=>s(()=>import("./clean.1ea659e6.js"),[]),[m.Danny]:()=>s(()=>import("./danny.0c19d968.js"),[]),[m.Fonze]:()=>s(()=>import("./fonze.f855fa3e.js"),[]),[m.Funny]:()=>s(()=>import("./funny.ffc2c94c.js"),[]),[m.Pixie]:()=>s(()=>import("./pixie.832b1a28.js"),[]),[m.Punk]:()=>s(()=>import("./punk.5772bc1f.js"),[]),[m.Turban]:()=>s(()=>import("./turban.029b07b7.js"),[]),[m.Wave]:()=>s(()=>import("./wave.948486fe.js"),[])}},ue={[n.Face]:{[J.Base]:()=>s(()=>import("./base.d88a270a.js"),[])},[n.Ear]:{[x.Attached]:()=>s(()=>import("./attached.04632675.js"),[]),[x.Detached]:()=>s(()=>import("./detached.05f1ed8c.js"),[])},[n.Eyes]:{[S.Ellipse]:()=>s(()=>import("./ellipse.e17c0112.js"),[]),[S.Eyeshadow]:()=>s(()=>import("./eyeshadow.e952b02b.js"),[]),[S.Round]:()=>s(()=>import("./round.0e7c03f1.js"),[]),[S.Smiling]:()=>s(()=>import("./smiling.1b7c47a4.js"),[])},[n.Beard]:{[Q.Scruff]:()=>s(()=>import("./scruff.9fff0b98.js"),[])},[n.Clothes]:{[V.Collared]:()=>s(()=>import("./collared.534fe35b.js"),[]),[V.Crew]:()=>s(()=>import("./crew.0d8fb0c6.js"),[]),[V.Open]:()=>s(()=>import("./open.43353202.js"),[])},[n.Earrings]:{[U.Hoop]:()=>s(()=>import("./hoop.08ec4532.js"),[]),[U.Stud]:()=>s(()=>import("./stud.2f888642.js"),[])},[n.Eyebrows]:{[C.Down]:()=>s(()=>import("./down.4a71f911.js"),[]),[C.Eyelashesdown]:()=>s(()=>import("./eyelashesdown.54878f1c.js"),[]),[C.Eyelashesup]:()=>s(()=>import("./eyelashesup.824704b4.js"),[]),[C.Up]:()=>s(()=>import("./up.251891a5.js"),[])},[n.Glasses]:{[Y.Round]:()=>s(()=>import("./round.64817114.js"),[]),[Y.Square]:()=>s(()=>import("./square.32f26cf0.js"),[])},[n.Mouth]:{[A.Frown]:()=>s(()=>import("./frown.d56d8487.js"),[]),[A.Laughing]:()=>s(()=>import("./laughing.00bb9e02.js"),[]),[A.Nervous]:()=>s(()=>import("./nervous.e5b20b14.js"),[]),[A.Pucker]:()=>s(()=>import("./pucker.4175d388.js"),[]),[A.Sad]:()=>s(()=>import("./sad.b2f40925.js"),[]),[A.Smile]:()=>s(()=>import("./smile.a51fc949.js"),[]),[A.Smirk]:()=>s(()=>import("./smirk.bcd1ce10.js"),[]),[A.Surprised]:()=>s(()=>import("./surprised.165d4852.js"),[])},[n.Nose]:{[k.Curve]:()=>s(()=>import("./curve.07b09785.js"),[]),[k.Pointed]:()=>s(()=>import("./pointed.530a8d46.js"),[]),[k.Round]:()=>s(()=>import("./round.acb35e17.js"),[])},[n.Tops]:{[m.Beanie]:()=>s(()=>import("./beanie.ba4230be.js"),[]),[m.Clean]:()=>s(()=>import("./clean.e228de68.js"),[]),[m.Danny]:()=>s(()=>import("./danny.3969d15b.js"),[]),[m.Fonze]:()=>s(()=>import("./fonze.82adb1ce.js"),[]),[m.Funny]:()=>s(()=>import("./funny.78babb5a.js"),[]),[m.Pixie]:()=>s(()=>import("./pixie.641bae09.js"),[]),[m.Punk]:()=>s(()=>import("./punk.03f85ac7.js"),[]),[m.Turban]:()=>s(()=>import("./turban.0309ef68.js"),[]),[m.Wave]:()=>s(()=>import("./wave.e02ee196.js"),[])}};const Pt={class:"configurator"},Tt={class:"wrapper-shape"},kt=["title","onClick"],Vt={class:"bg-color-list"},Ft=["onClick"],$t={class:"widget-list"},jt=["onClick","innerHTML"],xt=I({setup(e){const{t}=K(),[o,r]=me(),a=Ye(Object.values(n)),i=T([]);ne(()=>{(async()=>{const _=await Promise.all(a.map(h=>d(h)));i.value=a.map((h,c)=>({widgetType:h,widgetList:_[c]}))})()});async function d(_){const h=D[`${_}Shape`],c=h.map(async v=>{var w;return v!=="none"&&((w=ue==null?void 0:ue[_])==null?void 0:w[v])?(await ue[_][v]()).default:"X"});return await Promise.all(c).then(v=>v.map((w,P)=>({widgetType:_,widgetShape:h[P],svgRaw:w})))}function g(_){_!==o.value.wrapperShape&&r(W(z({},o.value),{wrapperShape:_}))}function f(_){_!==o.value.background.color&&r(W(z({},o.value),{background:W(z({},o.value.background),{color:_})}))}function p(_,h){var c,y;h&&((c=o.value.widgets)==null?void 0:c[_])&&r(W(z({},o.value),{widgets:W(z({},o.value.widgets),{[_]:W(z({},(y=o.value.widgets)==null?void 0:y[_]),{shape:h})})}))}return(_,h)=>(E(),pe(Fe,{class:"configurator-scroll"},{default:M(()=>[l("div",Pt,[O(ge,{title:u(t)("label.wrapperShape")},{default:M(()=>[l("ul",Tt,[(E(!0),b(oe,null,se(u(D).wrapperShape,c=>(E(),b("li",{key:c,class:"wrapper-shape__item",title:u(t)(`wrapperShape.${c}`),onClick:y=>g(c)},[l("i",{class:q(["shape",[c,{active:c===u(o).wrapperShape}]])},null,2)],8,kt))),128))])]),_:1},8,["title"]),O(ge,{title:u(t)("label.backgroundColor")},{default:M(()=>[l("ul",Vt,[(E(!0),b(oe,null,se(u(D).backgroundColor,c=>(E(),b("li",{key:c,class:"bg-color-list__item",onClick:y=>f(c)},[l("div",{style:ae({background:c}),class:q(["bg-color",{active:c===u(o).background.color,transparent:c==="transparent"}])},null,6)],8,Ft))),128))])]),_:1},8,["title"]),(E(!0),b(oe,null,se(i.value,c=>(E(),pe(ge,{key:c.widgetType,title:u(t)(`widgetType.${c.widgetType}`)},{default:M(()=>[l("ul",$t,[(E(!0),b(oe,null,se(c.widgetList,y=>{var v,w;return E(),b("li",{key:y.widgetShape,class:q(["list-item",{selected:y.widgetShape===((w=(v=u(o).widgets)==null?void 0:v[c.widgetType])==null?void 0:w.shape)}]),onClick:P=>p(c.widgetType,y.widgetShape),innerHTML:y.svgRaw},null,10,jt)}),128))])]),_:2},1032,["title"]))),128))])]),_:1}))}});var Bt=L(xt,[["__scopeId","data-v-7324cce5"]]);const Nt={class:"modal-body"},zt={class:"avatar-preview"},qt=["src"],Mt={class:"tip"},Ht=I({props:{visible:{type:Boolean,required:!1},imageUrl:{type:String,required:!0}},emits:["close"],setup(e,{emit:t}){const o=e,{t:r}=K();return(a,i)=>o.visible?(E(),b("div",{key:0,class:"download-modal-wrapper",onClick:i[2]||(i[2]=d=>t("close"))},[l("div",{class:"download-modal",onClick:i[1]||(i[1]=De(()=>{},["stop"]))},[l("div",Nt,[l("div",zt,[l("img",{alt:"vue-color-avatar",src:o.imageUrl,class:"avatar-img"},null,8,qt)]),l("p",Mt,H(u(r)("text.downloadTip"))+" \u{1F973}",1)]),l("button",{class:"close-btn",onClick:i[0]||(i[0]=d=>t("close"))},H(u(r)("action.close")),1)])])):Oe("v-if",!0)}});var Ut=L(Ht,[["__scopeId","data-v-eec95ef6"]]);const Gt=I({props:{color:{type:null,required:!0}},setup(e){const t=e;return(o,r)=>(E(),b("div",{class:"avatar-background",style:ae({background:t.color})},null,4))}});var Wt=L(Gt,[["__scopeId","data-v-108bafbe"]]);const Jt=["innerHTML"],Yt=I({props:{option:{type:null,required:!0,default:()=>he()},size:{type:Number,required:!1,default:280}},setup(e,{expose:t}){const o=e,{option:r,size:a}=Ze(o),i=T();t({avatarRef:i});function d(){return{[j.Circle]:r.value.wrapperShape===j.Circle,[j.Square]:r.value.wrapperShape===j.Square,[j.Squircle]:r.value.wrapperShape===j.Squircle}}const g=T("");return Ae(async()=>{const f=Object.entries(r.value.widgets).sort((h,c)=>{var w,P,G,N;const y=(P=(w=Re[h[0]])==null?void 0:w.zIndex)!=null?P:0,v=(N=(G=Re[c[0]])==null?void 0:G.zIndex)!=null?N:0;return y-v}),p=f.map(async([h,c])=>{var y;return c.shape!==B&&((y=ce==null?void 0:ce[h])==null?void 0:y[c.shape])?(await ce[h][c.shape]()).default:""}),_=await Promise.all(p).then(h=>h.map((c,y)=>{const v=c.slice(c.indexOf(">",c.indexOf("<svg"))+1).replace("</svg>","");return`
        <g id="vue-color-avatar-${f[y][0]}">
          ${v}
        </g>
      `}));g.value=`
    <svg
      width="${a.value}"
      height="${a.value}"
      viewBox="0 0 ${a.value/.7} ${a.value/.7}"
      preserveAspectRatio="xMidYMax meet"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g transform="translate(100, 65)">
        ${_.join("")}
      </g>
    </svg>
  `}),(f,p)=>(E(),b("div",{ref_key:"avatarRef",ref:i,class:q(["vue-color-avatar",d()]),style:ae({width:`${u(a)}px`,height:`${u(a)}px`})},[O(Wt,{color:u(r).background.color},null,8,["color"]),l("div",{class:"avatar-payload",innerHTML:g.value},null,8,Jt)],6))}});var Zt=L(Yt,[["__scopeId","data-v-101d4f34"]]);const Kt=I({setup(e){const{isCollapsed:t,openSider:o,closeSider:r}=$e();function a(){window.innerWidth<=Ce.lg?r():o()}return ne(()=>{(function(){(function(d,g,f){f=f||window;let p=!1;const _=()=>{p||(p=!0,requestAnimationFrame(()=>{f.dispatchEvent(new CustomEvent(g)),p=!1}))};f.addEventListener(d,_)})("resize","optimizedResize",window)})(),window.addEventListener("optimizedResize",a)}),_e(()=>{window.removeEventListener("optimizedResize",a)}),(i,d)=>(E(),b("section",{class:q(["container",{full:u(t)}])},[ie(i.$slots,"default",{},void 0,!0)],2))}});var Xt=L(Kt,[["__scopeId","data-v-63a34452"]]);const je=e=>(ve("data-v-6b04379a"),e=e(),fe(),e),Qt={class:"footer"},eo=je(()=>l("div",null,[Ke(" Made by "),l("a",{class:"link",href:"https://leoku.top",target:"_blank",rel:"nofollow noopener noreferrer"}," LeoKu ")],-1)),to=je(()=>l("div",{class:"divider"},"|",-1)),oo=I({setup(e){const{locale:t}=K();function o(){t.value=t.value===F.EN?F.ZH:F.EN}return(r,a)=>(E(),b("footer",Qt,[eo,to,l("div",{class:"locale",onClick:o},H(u(t)===u(F).EN?"\u7B80\u4F53\u4E2D\u6587":"English"),1)]))}});var so=L(oo,[["__scopeId","data-v-6b04379a"]]),ao="./assets/icon-github.af1ac57d.svg",ro="./assets/logo.f5999a59.svg";const no=["src"],io=I({props:{size:{type:Number,required:!1,default:2.5}},setup(e){const t=e;return(o,r)=>(E(),b("img",{style:ae([{width:"40px",height:"40px"},{width:`${t.size}rem`,height:`${t.size}rem`}]),src:u(ro),alt:"logo"},null,12,no))}});function Z(e,t){window==null||window.gtag("event",e,t)}const xe=e=>(ve("data-v-e792c8e8"),e=e(),fe(),e),lo={class:"header"},co=xe(()=>l("h2",{class:"site-title"},"Color Avatar",-1)),uo={class:"header-right"},_o={href:"https://github.com/Codennnn/vue-color-avatar",target:"_blank",rel:"nofollow noopener noreferrer"},po=["src"],vo=xe(()=>l("span",{class:"text"},"GitHub",-1)),fo=I({setup(e){return(t,o)=>(E(),b("header",lo,[O(io),co,l("div",uo,[l("a",_o,[l("button",{class:"github-button",onClick:o[0]||(o[0]=r=>u(Z)("click_github",{event_category:"click"}))},[l("img",{src:u(ao),alt:"GitHub"},null,8,po),vo])])])]))}});var ho=L(fo,[["__scopeId","data-v-e792c8e8"]]),Eo="./assets/icon-right.8e89d2c1.svg";const mo=["src"],go=I({setup(e){const{isCollapsed:t,openSider:o,closeSider:r}=$e();return(a,i)=>(E(),b("aside",{class:q(["sider",{collapsed:u(t)}])},[ie(a.$slots,"default",{},void 0,!0),l("div",{class:"trigger",onClick:i[0]||(i[0]=d=>u(t)?u(o)():u(r)())},[l("img",{src:u(Eo),class:"icon-right",alt:"arrow"},null,8,mo)])],2))}});var bo=L(go,[["__scopeId","data-v-b8078568"]]);const yo={},wo={id:"confetti",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}};function Ao(e,t){return E(),b("canvas",wo)}var Do=L(yo,[["render",Ao]]);const Oo=e=>(ve("data-v-7ba5bd90"),e=e(),fe(),e),Io={class:"main"},Ro={class:"content-warpper"},Co={class:"content-view"},So={class:"playground"},Lo={class:"avatar-wrapper"},Po={class:"action-group"},To=["disabled"],ko=Oo(()=>l("div",{class:"gradient-bg"},[l("div",{class:"gradient-top"}),l("div",{class:"gradient-bottom"})],-1)),Vo=I({setup(e){const t=le(),[o,r]=me(),{t:a}=K(),i=T();function d(){if(Math.random()<=st){let v=Le();for(;JSON.stringify(v)===JSON.stringify(o.value);)v=Le();v.wrapperShape=o.value.wrapperShape,r(v),nt()}else{const v=he(o.value);r(v)}Z("click_randomize",{event_category:"click"})}const g=T(!1),f=T(!1),p=T("");async function _(){var v;try{f.value=!0;const w=(v=i.value)==null?void 0:v.avatarRef,P=window.navigator.userAgent.toLowerCase(),G=at.some(N=>P.indexOf(N)!==-1);if(w){const ee=(await(await s(()=>import("./html2canvas.esm.0488f9f9.js"),[])).default(w,{backgroundColor:null})).toDataURL();if(G)p.value=ee,g.value=!0;else{const te=document.createElement("a");te.href=ee,te.download="vue-color-avatar.png",te.click()}}Z("click_download",{event_category:"click"})}finally{setTimeout(()=>{f.value=!1},rt)}}const h=T(!1),c=T(!1);function y(v){switch(v){case $.Undo:t.commit(Te),Z("action_undo",{event_category:"action",event_label:"Undo"});break;case $.Redo:t.commit(ke),Z("action_redo",{event_category:"action",event_label:"Redo"});break;case $.Flip:h.value=!h.value,Z("action_flip_avatar",{event_category:"action",event_label:"Flip Avatar"});break;case $.Code:c.value=!c.value,Z("action_view_code",{event_category:"action",event_label:"View Avatar Option Code"});break}}return(v,w)=>(E(),b("main",Io,[O(Xt,null,{default:M(()=>[l("div",Ro,[l("div",Co,[O(ho),l("div",So,[l("div",Lo,[O(Zt,{ref_key:"colorAvatarRef",ref:i,option:u(o),size:280,style:ae({transform:`rotateY(${h.value?-180:0}deg)`})},null,8,["option","style"])]),O(Et,{onAction:y}),l("div",Po,[l("button",{class:"action-randomize",onClick:d},H(u(a)("action.randomize")),1),l("button",{class:"action-download",disabled:f.value,onClick:_},H(f.value?`${u(a)("action.downloading")}...`:u(a)("action.download")),9,To)])]),O(so),O(Rt,{visible:c.value,onClose:w[0]||(w[0]=P=>c.value=!1)},null,8,["visible"]),O(Ut,{visible:g.value,"image-url":p.value,onClose:w[1]||(w[1]=P=>{g.value=!1,p.value=""})},null,8,["visible","image-url"])]),O(Do),ko])]),_:1}),O(bo,null,{default:M(()=>[O(Bt)]),_:1})]))}});var Fo=L(Vo,[["__scopeId","data-v-7ba5bd90"]]),$o={action:{undo:"undo",redo:"redo",flip:"flip",code:"code",randomize:"Randomize",download:"Download",copyCode:"Copy",copied:"Copied",downloading:"Downloading",close:"Close"},label:{wrapperShape:"Avatar Shape",backgroundColor:"Background Color"},widgetType:{[n.Face]:"Face",[n.Tops]:"Tops",[n.Ear]:"Ear",[n.Earrings]:"Earrings",[n.Eyebrows]:"Eyebrows",[n.Eyes]:"Eyes",[n.Nose]:"Nose",[n.Glasses]:"Glasses",[n.Mouth]:"Mouth",[n.Beard]:"Beard",[n.Clothes]:"Clothes"},wrapperShape:{circle:"Circle",square:"Square",squircle:"Squircle"},text:{codeModalTitle:"Code",downloadTip:"LONG PRESS or RIGHT CLICK to save"}},jo={action:{undo:"\u64A4\u9500",redo:"\u8FD8\u539F",flip:"\u6C34\u5E73\u7FFB\u8F6C",code:"\u914D\u7F6E\u4EE3\u7801",randomize:"\u968F\u673A\u751F\u6210",download:"\u4E0B\u8F7D\u5934\u50CF",copyCode:"\u590D\u5236\u4EE3\u7801",copied:"\u5DF2\u590D\u5236",downloading:"\u51C6\u5907\u4E0B\u8F7D",close:"\u5173\u95ED"},label:{wrapperShape:"\u5934\u50CF\u5F62\u72B6",backgroundColor:"\u80CC\u666F\u989C\u8272"},widgetType:{[n.Face]:"\u8138\u86CB",[n.Tops]:"\u5934\u53D1 / \u5934\u9970",[n.Ear]:"\u8033\u6735",[n.Earrings]:"\u8033\u73AF",[n.Eyebrows]:"\u7709\u6BDB",[n.Eyes]:"\u773C\u775B",[n.Nose]:"\u9F3B\u5B50",[n.Glasses]:"\u773C\u955C",[n.Mouth]:"\u5634\u5DF4",[n.Beard]:"\u80E1\u5B50",[n.Clothes]:"\u8863\u7740"},wrapperShape:{circle:"\u5706\u5F62",square:"\u65B9\u5F62",squircle:"\u65B9\u5706\u5F62"},text:{codeModalTitle:"\u914D\u7F6E\u4EE3\u7801",downloadTip:"\u957F\u6309\u56FE\u7247\u6216\u53F3\u952E\u70B9\u51FB\u4E0B\u8F7D\u81F3\u672C\u5730\u76F8\u518C"}};const xo={en:$o,zh:jo},[Bo,No]=/^zh\b/.test(window.navigator.language)?[F.ZH,F.EN]:[F.EN,F.ZH];var zo=Xe({locale:Bo,fallbackLocale:No,messages:xo});const be=Qe(Fo);be.use(lt,Ve);be.use(zo);be.mount("#app");
